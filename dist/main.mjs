var m=Math.pow;var N=25,x=.1,c=[],i=0,s;function p(e){c=e,i=0}var f=!1;function l(e,o,u,n){let r=60/u;f=!0;let t=(c[i].Beat-1)*r;e.currentTime+x>=t&&(y(e,t,o,c[i],r),i++,i>=c.length&&(d(),n())),f&&(s=setTimeout(()=>l(e,o,u,n),N))}function d(){clearTimeout(s),i=0,f=!1}function y(e,o,u,n,r){let t=e.createBufferSource(),a=e.createGain();a.gain.setValueAtTime(.25,o),t.buffer=u,t.playbackRate.value=B(69,n.MidiNote),t.connect(a).connect(e.destination),t.start(o),a.gain.linearRampToValueAtTime(0,o+n.Duration*r)}function B(e=69,o){return m(2,(o-e)/12)}var b;(r=>{function e(){}r.CreateSinth=e;function o(t,a,v){let A=new AudioContext;l(A,t,a,v)}r.play=o;function u(){d()}r.stop=u;function n(t){p(t)}r.initplay=n})(b||(b={}));export{b as Sinth};
//# sourceMappingURL=main.mjs.map